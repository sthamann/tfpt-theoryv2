{
  "checks": [
    {
      "check_id": "likelihood_engine_runs",
      "detail": "evaluated 2 dataset(s); logL_datasets=nan",
      "passed": true,
      "severity": "PASS"
    },
    {
      "check_id": "nuisance_handling_policy_explicit",
      "detail": "policy={'kind': 'fixed', 'note': 'Initial policy: keep nuisance parameters fixed to declared reference values (explicitly stated). Upgrade paths: profiling or marginalization via sampling.'}",
      "passed": true,
      "severity": "PASS"
    },
    {
      "check_id": "covariance_enabled_for_reference_tables",
      "detail": "at least one multivariate covariance dataset evaluated",
      "passed": true,
      "severity": "PASS"
    },
    {
      "check_id": "plugins_declared",
      "detail": "plugins=2, enabled=0",
      "passed": true,
      "severity": "INFO"
    },
    {
      "check_id": "planck_likelihood_included",
      "detail": "not enabled / no logp (from tfpt-suite/out_engineering/boltzmann_transfer/results.json)",
      "passed": true,
      "severity": "INFO"
    }
  ],
  "results": {
    "datasets": [
      {
        "chi2": NaN,
        "dataset_id": "alpha_covariance_minimal",
        "details": {
          "covariance": [
            [
              2.0441e-14,
              0.0
            ],
            [
              0.0,
              8.1e-05
            ]
          ],
          "include_norm_constant": true,
          "means": [
            137.035999177,
            127.951
          ],
          "p_value": NaN,
          "predictions": {
            "alpha_bar5_inv_MZ": NaN,
            "alpha_inv_0": 137.03599921615844
          }
        },
        "dof": 2,
        "kind": "multivariate_gaussian",
        "labels": [
          "alpha_inv_0",
          "alpha_bar5_inv_MZ"
        ],
        "loglike": NaN
      },
      {
        "chi2": 0.0,
        "dataset_id": "r_upper_95_proxy",
        "details": {
          "cl": 0.95,
          "likelihood": "chi2_proxy",
          "pred": 0.003826530612244898,
          "upper": 0.056
        },
        "dof": 1,
        "kind": "one_sided_upper",
        "labels": [
          "r"
        ],
        "loglike": -0.0
      }
    ],
    "loglike_total": NaN,
    "loglike_total_datasets": NaN,
    "loglike_total_plugins": 0.0,
    "nuisance_policy": {
      "kind": "fixed",
      "note": "Initial policy: keep nuisance parameters fixed to declared reference values (explicitly stated). Upgrade paths: profiling or marginalization via sampling."
    },
    "planck_pliklite_from_boltzmann_transfer": {
      "enabled": false,
      "note": "set TFPT_ENABLE_PLANCK_LIKELIHOOD=1 to evaluate Planck plik-lite (Cobaya-native)."
    },
    "plugins": [
      {
        "enabled": false,
        "kind": "cobaya",
        "note": "Optional external Planck likelihood via Cobaya. Keep disabled by default; enable only when Cobaya + Planck likelihood/data are installed and configured.",
        "plugin_id": "planck_2018_cobaya"
      },
      {
        "enabled": false,
        "kind": "grid_chi2",
        "note": "Optional NuFIT interpolated chi2 grids for PMNS parameters (non-Gaussian). Add a shipped grid file + interpolation policy to enable.",
        "plugin_id": "nufit_pmns_grid"
      }
    ],
    "predictions": {
      "A_s": 2.09019136432946e-09,
      "alpha_inv_0": 137.03599921615844,
      "beta_deg": 0.24243503090092952,
      "cabibbo_lambda": 0.22445997051897373,
      "n_s": 0.9642857142857143,
      "r": 0.003826530612244898
    },
    "predictions_source": "tfpt-suite/out_engineering/global_consistency_test/results.json",
    "spec_file": "/Users/stefanhamann/Projekte/wolfram_latex_attachments/tfpt-suite/tfpt_suite/data/likelihood_datasets_v1.json"
  },
  "spec": {
    "assumptions": [],
    "determinism": "Deterministic given the dataset spec + prediction providers.",
    "formulas": [
      "multivariate Gaussian: \u03c7\u00b2 = r\u1d40 C\u207b\u00b9 r, logL = -1/2 (\u03c7\u00b2 + log det C + n log 2\u03c0)",
      "one-sided upper bound (proxy): \u03c7\u00b2=0 if x\u2264x_max else ((x-x_max)/x_max)\u00b2"
    ],
    "gaps": [
      "External plugins (Planck likelihood, NuFIT chi2 grids) are not enabled by default; this module defines the contract and evaluates shipped datasets."
    ],
    "inputs": [
      "dataset spec: tfpt_suite/data/likelihood_datasets_v1.json",
      "predictions provider: global_consistency_test output (preferred) or direct prediction providers (future)"
    ],
    "maturity": null,
    "module_id": "likelihood_engine",
    "name": "Likelihood engine (covariance datasets + nuisance-policy contract; plugin-ready)",
    "objective": [
      "Provide a single unified dataset schema that can later host Planck (plugin) and NuFIT (grid chi2) without ad-hoc logic in each physics module."
    ],
    "outputs": [
      "per-dataset chi2/logL summary (explicit covariance/bound handling)",
      "total log-likelihood (sum of enabled datasets)"
    ],
    "question": "Can TFPT evaluate explicit covariances/bounds under a declared nuisance policy (upgrade path to Planck/NuFIT plugins)?",
    "references": [],
    "validation": [
      "covariance_enabled_for_reference_tables: PASS if a covariance dataset is evaluated from the unified spec.",
      "nuisance_handling_policy_explicit: PASS if nuisance_policy is present in the spec."
    ],
    "what_was_done": []
  },
  "warnings": []
}
